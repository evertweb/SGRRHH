<Window x:Class="SGRRHH.WPF.Views.CambiarPasswordWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Cambiar Contrasena" 
        Height="280" Width="360"
        WindowStartupLocation="CenterOwner"
        WindowStyle="SingleBorderWindow"
        ResizeMode="NoResize"
        Background="#C0C0C0">
    
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Resources/Styles/LegacyTheme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Título -->
        <Border Grid.Row="0" Background="#000080" Padding="8,5" Margin="-10,-10,-10,10">
            <TextBlock Text="CAMBIAR CONTRASENA" FontFamily="Tahoma" FontSize="11" 
                       FontWeight="Bold" Foreground="White"/>
        </Border>
        
        <!-- Contraseña Actual -->
        <StackPanel Grid.Row="1" Margin="0,0,0,8">
            <TextBlock Text="Contrasena Actual *" FontFamily="Tahoma" FontSize="10" Margin="0,0,0,2"/>
            <PasswordBox x:Name="PasswordActual" Style="{StaticResource LegacyPasswordStyle}" Height="22" FontSize="10"/>
        </StackPanel>
        
        <!-- Nueva Contraseña -->
        <StackPanel Grid.Row="2" Margin="0,0,0,8">
            <TextBlock Text="Nueva Contrasena *" FontFamily="Tahoma" FontSize="10" Margin="0,0,0,2"/>
            <PasswordBox x:Name="PasswordNueva" Style="{StaticResource LegacyPasswordStyle}" Height="22" FontSize="10"/>
        </StackPanel>
        
        <!-- Confirmar Contraseña -->
        <StackPanel Grid.Row="3" Margin="0,0,0,8">
            <TextBlock Text="Confirmar Nueva Contrasena *" FontFamily="Tahoma" FontSize="10" Margin="0,0,0,2"/>
            <PasswordBox x:Name="PasswordConfirmar" Style="{StaticResource LegacyPasswordStyle}" Height="22" FontSize="10"/>
        </StackPanel>
        
        <!-- Mensaje de error -->
        <Border Grid.Row="4" Background="#FFCCCC" BorderThickness="1" BorderBrush="#800000" 
                Padding="8" Margin="0,0,0,8"
                Visibility="{Binding Mensaje, Converter={StaticResource NullToVisibilityConverter}}">
            <TextBlock Text="{Binding Mensaje}" Foreground="#800000" FontFamily="Tahoma" FontSize="9" TextWrapping="Wrap"/>
        </Border>
        
        <!-- Espaciador -->
        <Grid Grid.Row="5"/>
        
        <!-- Botones -->
        <Border Grid.Row="6" Background="#E0E0E0" BorderThickness="0,1,0,0" BorderBrush="#808080" 
                Margin="-10,0,-10,-10" Padding="10,8">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancelar" 
                        Style="{StaticResource LegacyButtonStyle}"
                        FontFamily="Tahoma" FontSize="10"
                        Padding="12,4" Margin="0,0,8,0"
                        IsCancel="True"
                        Click="CancelButton_Click"/>
                <Button Content="Cambiar" 
                        Style="{StaticResource LegacyButtonStyle}"
                        FontFamily="Tahoma" FontSize="10" FontWeight="Bold"
                        Padding="12,4"
                        Click="ChangePasswordButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
