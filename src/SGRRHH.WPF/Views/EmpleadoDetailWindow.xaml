<Window x:Class="SGRRHH.WPF.Views.EmpleadoDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="{Binding WindowTitle}" 
        Height="650" Width="850"
        MinHeight="500" MinWidth="700"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Encabezado con foto y datos principales -->
        <Border Grid.Row="0">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="{StaticResource SidebarHeaderColor}" Offset="0"/>
                    <GradientStop Color="{StaticResource GrayBlueColor}" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid Margin="25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Foto -->
                <Border Grid.Column="0" Width="100" Height="120" CornerRadius="8"
                        Background="{StaticResource SurfaceBrush}" Margin="0,0,20,0">
                    <Grid>
                        <TextBlock Text="ðŸ‘¤" FontSize="50" HorizontalAlignment="Center" 
                                   VerticalAlignment="Center" Foreground="{StaticResource GrayBrush}"
                                   Visibility="{Binding FotoPath, Converter={StaticResource IsNullOrEmptyToVisibilityConverter}}"/>
                        <Image Source="{Binding FotoPath}" Stretch="UniformToFill"
                               Visibility="{Binding FotoPath, Converter={StaticResource NotNullToVisibilityConverter}}"/>
                    </Grid>
                </Border>
                
                <!-- InformaciÃ³n principal -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="{Binding NombreCompleto}" FontSize="26" FontWeight="Bold" Foreground="{StaticResource TextInverseBrush}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                        <Border Background="{StaticResource PrimaryBrush}" CornerRadius="3" Padding="8,4" Margin="0,0,10,0">
                            <TextBlock Text="{Binding Codigo}" Foreground="{StaticResource TextInverseBrush}" FontSize="12" FontWeight="SemiBold"/>
                        </Border>
                        <Border Background="{StaticResource SuccessBrush}" CornerRadius="3" Padding="8,4" Margin="0,0,10,0">
                            <TextBlock Text="{Binding Estado}" Foreground="{StaticResource TextInverseBrush}" FontSize="12" FontWeight="SemiBold"/>
                        </Border>
                        <Border Background="{StaticResource WarningBrush}" CornerRadius="3" Padding="8,4">
                            <TextBlock Foreground="{StaticResource TextInverseBrush}" FontSize="12" FontWeight="SemiBold">
                                <Run Text="AntigÃ¼edad: "/>
                                <Run Text="{Binding Antiguedad, Mode=OneWay}"/>
                            </TextBlock>
                        </Border>
                    </StackPanel>
                    <TextBlock Margin="0,8,0,0" Foreground="{StaticResource SidebarTextMutedBrush}" FontSize="13">
                        <Run Text="CÃ©dula: "/>
                        <Run Text="{Binding Cedula, Mode=OneWay}"/>
                        <Run Text="  |  Ingreso: "/>
                        <Run Text="{Binding FechaIngreso, Mode=OneWay}"/>
                    </TextBlock>
                </StackPanel>
                
                <!-- BotÃ³n editar -->
                <Button Grid.Column="2" Content="âœï¸ Editar" Command="{Binding EditCommand}"
                        Style="{StaticResource WarningButton}"
                        VerticalAlignment="Top"
                        Padding="15,10" FontWeight="Bold" FontSize="13"/>
            </Grid>
        </Border>
        
        <!-- Contenido con tabs -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="25">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Datos Personales -->
                <Border Grid.Column="0" Grid.Row="0" Style="{StaticResource CardFlat}" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ‘¤ Datos Personales" FontWeight="Bold" FontSize="15" 
                                   Foreground="{StaticResource SidebarHeaderBrush}" Margin="0,0,0,15"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Fecha Nacimiento:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding FechaNacimiento}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="GÃ©nero:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Genero}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Estado Civil:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding EstadoCivil}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="DirecciÃ³n:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Direccion}" 
                                       FontWeight="SemiBold" FontSize="13" TextWrapping="Wrap" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Email:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,0"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding Email}" 
                                       FontWeight="SemiBold" FontSize="13"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Datos de Contacto -->
                <Border Grid.Column="2" Grid.Row="0" Style="{StaticResource CardFlat}" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ“ž Contacto y Emergencia" FontWeight="Bold" FontSize="15" 
                                   Foreground="{StaticResource SidebarHeaderBrush}" Margin="0,0,0,15"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="TelÃ©fono:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Telefono}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Tel. Emergencia:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding TelefonoEmergencia}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Contacto Emerg.:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,0"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding ContactoEmergencia}" 
                                       FontWeight="SemiBold" FontSize="13"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Datos Laborales -->
                <Border Grid.Column="0" Grid.Row="1" Style="{StaticResource CardFlat}" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ¢ InformaciÃ³n Laboral" FontWeight="Bold" FontSize="15" 
                                   Foreground="{StaticResource SidebarHeaderBrush}" Margin="0,0,0,15"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Departamento:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Departamento}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Cargo:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Cargo}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Supervisor:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,10"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Supervisor}" 
                                       FontWeight="SemiBold" FontSize="13" Margin="0,0,0,10"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Tipo Contrato:" 
                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,15,0"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding TipoContrato}" 
                                       FontWeight="SemiBold" FontSize="13"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Observaciones -->
                <Border Grid.Column="2" Grid.Row="1" Style="{StaticResource CardFlat}" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ“ Observaciones" FontWeight="Bold" FontSize="15" 
                                   Foreground="{StaticResource SidebarHeaderBrush}" Margin="0,0,0,15"/>
                        <TextBlock Text="{Binding Observaciones}" FontSize="13" TextWrapping="Wrap"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                    </StackPanel>
                </Border>
                
                <!-- Acciones rÃ¡pidas (placeholder para futuras funciones) -->
                <Border Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Background="{StaticResource PrimaryLightBrush}" 
                        CornerRadius="8" Padding="20">
                    <StackPanel>
                        <TextBlock Text="âš¡ Acciones RÃ¡pidas" FontWeight="Bold" FontSize="15" 
                                   Foreground="{StaticResource InfoBrush}" Margin="0,0,0,15"/>
                        <WrapPanel>
                            <Button Content="ðŸ“ Ver Documentos" Margin="0,0,10,10" Padding="15,8"
                                    Command="{Binding VerDocumentosCommand}"
                                    Style="{StaticResource InfoButton}"/>
                            <Button Content="ðŸ“… Ver Permisos" Margin="0,0,10,10" Padding="15,8"
                                    Style="{StaticResource PrimaryOutlineButton}" IsEnabled="False"/>
                            <Button Content="ðŸ–ï¸ Ver Vacaciones" Margin="0,0,10,10" Padding="15,8"
                                    Style="{StaticResource PrimaryOutlineButton}" IsEnabled="False"/>
                            <Button Content="ðŸ“Š Ver Actividades" Margin="0,0,10,10" Padding="15,8"
                                    Style="{StaticResource PrimaryOutlineButton}" IsEnabled="False"/>
                            <Button Content="ðŸ“„ Generar Certificado" Margin="0,0,10,10" Padding="15,8"
                                    Style="{StaticResource PrimaryOutlineButton}" IsEnabled="False"/>
                        </WrapPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </ScrollViewer>
        
        <!-- Barra inferior -->
        <Border Grid.Row="2" Background="{StaticResource SurfaceBrush}" Padding="20" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0">
            <Button Content="Cerrar" Command="{Binding CloseCommand}"
                    Style="{StaticResource SecondaryButton}"
                    HorizontalAlignment="Right"
                    Width="120" Height="40" FontSize="14"/>
        </Border>
        
        <!-- Overlay de carga -->
        <Border Grid.RowSpan="3" Background="#80000000" 
                Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">
            <Border Background="{StaticResource SurfaceBrush}" CornerRadius="10" Padding="30"
                    HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel>
                    <TextBlock Text="â³" FontSize="40" HorizontalAlignment="Center"/>
                    <TextBlock Text="Cargando informaciÃ³n..." FontSize="16" Foreground="{StaticResource TextSecondaryBrush}" 
                               HorizontalAlignment="Center" Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </Border>
    </Grid>
</Window>
