@using SGRRHH.Local.Domain.Entities
@using SGRRHH.Local.Domain.Enums

<div class="empleado-card @(IsSelected ? "selected" : "")" @onclick="HandleClick">
    <div class="empleado-card-foto">
        <img src="@FotoUrl" alt="@Empleado.NombreCompleto" 
             onerror="this.src='/images/default-avatar.png'" />
    </div>
    <div class="empleado-card-info">
        <div class="empleado-card-nombre">@Empleado.NombreCompleto</div>
        <div class="empleado-card-cargo">@(Empleado.Cargo?.Nombre ?? "Sin cargo")</div>
        <div class="empleado-card-departamento">@(Empleado.Departamento?.Nombre ?? "Sin departamento")</div>
        <div class="empleado-card-estado">
            <EstadoBadge Estado="@Empleado.Estado.ToString()" />
        </div>
    </div>
    @if (ShowActions)
    {
        <div class="empleado-card-actions">
            @ChildContent
        </div>
    }
</div>

@code {
    [Parameter] public Empleado Empleado { get; set; } = null!;
    [Parameter] public string FotoUrl { get; set; } = "/images/default-avatar.png";
    [Parameter] public bool IsSelected { get; set; }
    [Parameter] public bool ShowActions { get; set; }
    [Parameter] public EventCallback<Empleado> OnClick { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    
    private async Task HandleClick()
    {
        await OnClick.InvokeAsync(Empleado);
    }
}

<style>
    .empleado-card {
        display: flex;
        gap: 12px;
        padding: 12px;
        background: #1a1a1a;
        border: 1px solid #333;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .empleado-card:hover {
        background: #222;
        border-color: #00d4ff;
    }

    .empleado-card.selected {
        background: #00d4ff22;
        border-color: #00d4ff;
    }

    .empleado-card-foto {
        flex-shrink: 0;
    }

    .empleado-card-foto img {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #333;
    }

    .empleado-card-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .empleado-card-nombre {
        font-weight: bold;
        font-size: 14px;
        color: #fff;
    }

    .empleado-card-cargo {
        font-size: 12px;
        color: #aaa;
    }

    .empleado-card-departamento {
        font-size: 11px;
        color: #888;
    }

    .empleado-card-estado {
        margin-top: 4px;
    }

    .empleado-card-actions {
        display: flex;
        flex-direction: column;
        gap: 4px;
        justify-content: center;
    }
</style>
