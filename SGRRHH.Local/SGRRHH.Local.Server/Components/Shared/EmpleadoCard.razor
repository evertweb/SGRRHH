@using SGRRHH.Local.Domain.Entities
@using SGRRHH.Local.Domain.Enums

<div class="empleado-card @(IsSelected ? "selected" : "")" @onclick="HandleClick">
    <div class="empleado-card-foto">
        <img src="@FotoUrl" alt="@Empleado.NombreCompleto" 
             onerror="this.src='/images/default-avatar.png'" />
    </div>
    <div class="empleado-card-info">
        <div class="empleado-card-nombre">@Empleado.NombreCompleto</div>
        <div class="empleado-card-cargo">@(Empleado.Cargo?.Nombre ?? "Sin cargo")</div>
        <div class="empleado-card-departamento">@(Empleado.Departamento?.Nombre ?? "Sin departamento")</div>
        <div class="empleado-card-estado">
            <EstadoBadge Estado="@Empleado.Estado.ToString()" />
        </div>
    </div>
    @if (ShowActions)
    {
        <div class="empleado-card-actions">
            @ChildContent
        </div>
    }
</div>

@code {
    [Parameter] public Empleado Empleado { get; set; } = null!;
    [Parameter] public string FotoUrl { get; set; } = "/images/default-avatar.png";
    [Parameter] public bool IsSelected { get; set; }
    [Parameter] public bool ShowActions { get; set; }
    [Parameter] public EventCallback<Empleado> OnClick { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    
    private async Task HandleClick()
    {
        await OnClick.InvokeAsync(Empleado);
    }
}


